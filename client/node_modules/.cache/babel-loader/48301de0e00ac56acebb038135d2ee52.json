{"ast":null,"code":"import _slicedToArray from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import'bootstrap-icons/font/bootstrap-icons.css';import'bootstrap/dist/css/bootstrap.min.css';import'./question.css';import{useLocation}from'react-router-dom';import{useNavigate}from'react-router-dom';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function GetQuestions(){var location=useLocation();var stateQuiz=location.state;var navigate=useNavigate();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),score=_useState2[0],setScore=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showScore=_useState4[0],setShowScore=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),questionNumber=_useState6[0],setQuestionNumber=_useState6[1];var _useState7=useState(random(stateQuiz.size)),_useState8=_slicedToArray(_useState7,2),randomArray=_useState8[0],setRandom=_useState8[1];function random(size){var arr=[];//double check this range is correct\nfor(var i=0;i<size;i++){arr.push(stateQuiz.quiz.questions[Math.floor(Math.random()*stateQuiz.quiz.questions.length)]);}return arr;}useEffect(function(){if(showScore){setTimeout(function(){onLoad();},2000);}},[showScore,score]);function handleAnswerButtonClick(choice){var id=randomArray[questionNumber].indexOfAnswer;if(questionNumber<stateQuiz.size-1){if(choice===randomArray[questionNumber].answerChoices[id]){setScore(score+1);setQuestionNumber(questionNumber+1);alert('correct');}else{setQuestionNumber(questionNumber+1);alert('incorrect');}}else{if(choice===randomArray[questionNumber].answerChoices[id]){setScore(score+1);setShowScore(true);}else{setShowScore(true);}}}function onLoad(){console.log(\"triggered\");navigate(\"/scores\",{state:{score:score,quiz:stateQuiz.quiz.name}});}return/*#__PURE__*/_jsx(\"div\",{className:\"question-app\",children:showScore?/*#__PURE__*/_jsxs(\"div\",{className:\"question-score-section\",children:[\"You scored \",score,\" out of \",randomArray.length]})//after a few seconds navigate to score board\n:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-question-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-question-count\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Question \",questionNumber+1]}),\"/\",randomArray.length]}),/*#__PURE__*/_jsx(\"div\",{className:\"question-question-text\",children:randomArray[questionNumber].question})]}),/*#__PURE__*/_jsx(\"div\",{className:\"question-answer-section\",children:randomArray[questionNumber].answerChoices.map(function(answerChoices,index){return answerChoices!==\"\"?/*#__PURE__*/_jsx(\"button\",{className:\"question-button-section\",onClick:function onClick(){return handleAnswerButtonClick(answerChoices);},children:answerChoices}):/*#__PURE__*/_jsx(\"div\",{style:{visibility:\"hidden\"},children:\"Blank Div\"});})})]})});}","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","GetQuestions","location","stateQuiz","state","navigate","score","setScore","showScore","setShowScore","questionNumber","setQuestionNumber","random","size","randomArray","setRandom","arr","i","push","quiz","questions","Math","floor","length","setTimeout","onLoad","handleAnswerButtonClick","choice","id","indexOfAnswer","answerChoices","alert","console","log","name","question","map","index","visibility"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/quiz/questions.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './question.css';\nimport {useLocation} from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function GetQuestions() {\n    const location = useLocation();\n    const  stateQuiz  = location.state;\n\n    const navigate = useNavigate();\n\n    const [score, setScore] = useState(0);\n    const [showScore, setShowScore] = useState(false);\n\n\n    const [questionNumber, setQuestionNumber] = useState(0);\n    const [randomArray, setRandom] = useState(random(stateQuiz.size));\n\n    function random(size) {\n        let arr = [];\n        //double check this range is correct\n        for (let i = 0; i < size; i++) {\n            arr.push(stateQuiz.quiz.questions[Math.floor(Math.random() * (stateQuiz.quiz.questions.length))])\n        }\n        return arr;\n    }\n\n    useEffect(() => {\n        if (showScore) {\n            setTimeout(()=> {\n                onLoad()\n            }, 2000)\n        }\n    }, [showScore, score])\n\n    function handleAnswerButtonClick(choice) {\n        let id = randomArray[questionNumber].indexOfAnswer;\n        if(questionNumber < stateQuiz.size-1) {\n            if(choice === randomArray[questionNumber].answerChoices[id]){\n                setScore(score + 1);\n                setQuestionNumber(questionNumber + 1);\n                alert('correct');\n            } else {\n                setQuestionNumber(questionNumber + 1);\n                alert('incorrect');\n            } \n        } else {\n            if(choice === randomArray[questionNumber].answerChoices[id]){\n                setScore(score + 1);\n                setShowScore(true);\n              \n            } else {\n                setShowScore(true);\n            }\n        }\n             \n    }\n    function onLoad() {\n        console.log(\"triggered\");\n        navigate(\"/scores\", {state: {score: score, quiz: stateQuiz.quiz.name}})\n\n    }\n    return (\n        <div className=\"question-app\">\n            {showScore ? (\n                <div className='question-score-section'>\n\t\t\t\t\tYou scored {score} out of {randomArray.length}\n\t\t\t\t</div>\n                //after a few seconds navigate to score board\n                ) : (\n                    <>\n                    <div className=\"question-question-section\">\n                        <div className=\"question-question-count\">\n                            <span>Question {questionNumber + 1}</span>/{randomArray.length}\n                        </div>\n                        <div className='question-question-text'>{randomArray[questionNumber].question}</div>\n                    </div>\n                    <div className=\"question-answer-section\">\n                    {randomArray[questionNumber].answerChoices.map((answerChoices, index) => (\n                        answerChoices !== \"\" ? <button className=\"question-button-section\" onClick={() => handleAnswerButtonClick(answerChoices)}  >{answerChoices}</button>\n                        : <div style={{visibility: \"hidden\"}}>Blank Div</div>))}\n                    </div>\n                    </>\n                )}\n            \n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}