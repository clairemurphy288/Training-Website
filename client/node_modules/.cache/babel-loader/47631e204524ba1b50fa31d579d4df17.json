{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import NavBar from\"../utilities/navbar\";import{useState,useEffect}from\"react\";import{useRef}from\"react\";import FormTimer from'./FormTimer';import{useLocation}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddTimer(props){var location=useLocation();var timer=location.state;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),process=_useState2[0],setProcess=_useState2[1];useEffect(function(){getNewProcess();},[]);function getNewProcess(){return _getNewProcess.apply(this,arguments);}function _getNewProcess(){_getNewProcess=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/v1/step',{params:{_id:timer._id}}).then(function(res){console.log(res.data);setProcess(res.data);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getNewProcess.apply(this,arguments);}function onClick(_x){return _onClick.apply(this,arguments);}function _onClick(){_onClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/api/v1/step',{_id:timer._id}).then(function(res){}).catch(function(err){return console.log(err);});case 2:getNewProcess();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _onClick.apply(this,arguments);}var list=process.map(function(item,index){return/*#__PURE__*/_jsx(FormTimer,{getNewProcess:getNewProcess,timerId:timer._id,item:item},item._id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"timer-header\",children:\"This page allows the admin to create a timer!\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-2\"}),/*#__PURE__*/_jsx(\"div\",{children:list}),/*#__PURE__*/_jsx(\"button\",{onClick:onClick,className:\"btn btn-dark mt-2\",children:\"+\"})]});}","map":{"version":3,"names":["React","NavBar","useState","useEffect","useRef","FormTimer","useLocation","axios","AddTimer","props","location","timer","state","process","setProcess","getNewProcess","get","params","_id","then","res","console","log","data","catch","err","onClick","e","post","list","map","item","index"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/TimeStudy/AddTimer.js"],"sourcesContent":["import React from 'react';\nimport NavBar from \"../utilities/navbar\"\nimport { useState, useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport FormTimer from './FormTimer';\nimport {useLocation} from 'react-router-dom';\nimport axios from 'axios';\nexport default function AddTimer(props) {\n    const location = useLocation();\n    const  timer  = location.state;\n    const [process, setProcess] = useState([]);\n\n    useEffect(() => {\n        getNewProcess()\n\n    }, [])\n\n    async function getNewProcess() {\n        await axios.get('/api/v1/step', {params: {_id: timer._id}}).then(res => {\n            console.log(res.data)\n            setProcess(res.data);\n           }).catch(err => console.log(err));\n    }\n\n    async function onClick(e) {\n        await axios.post('/api/v1/step', {_id: timer._id}).then(res => {\n           }).catch(err => console.log(err));\n           getNewProcess();\n\n    }\n    const list = process.map((item, index) =>  {\n        return <FormTimer getNewProcess = {getNewProcess} timerId = {timer._id}  item = {item}  key = {item._id}/>})\n\n    return(\n        <div className=\"container text-center\">\n            <NavBar/>\n            <h1 className='timer-header'>This page allows the admin to create a timer!</h1>\n            <label>Title</label>\n            <input className=\"form-control mb-2\"></input>\n            <div>{list}</div>\n            <button onClick={onClick} className=\"btn btn-dark mt-2\">+</button>\n        </div>\n    )\n}"],"mappings":"ieAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,MAAT,KAAuB,OAAvB,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFACA,cAAe,SAASC,SAAT,CAAkBC,KAAlB,CAAyB,CACpC,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAOK,MAAK,CAAID,QAAQ,CAACE,KAAzB,CACA,cAA8BV,QAAQ,CAAC,EAAD,CAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eAEAX,SAAS,CAAC,UAAM,CACZY,aAAa,GAEhB,CAHQ,CAGN,EAHM,CAAT,CALoC,QAUrBA,cAVqB,mJAUpC,2JACUR,MAAK,CAACS,GAAN,CAAU,cAAV,CAA0B,CAACC,MAAM,CAAE,CAACC,GAAG,CAAEP,KAAK,CAACO,GAAZ,CAAT,CAA1B,EAAsDC,IAAtD,CAA2D,SAAAC,GAAG,CAAI,CACpEC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAT,UAAU,CAACM,GAAG,CAACG,IAAL,CAAV,CACA,CAHE,EAGAC,KAHA,CAGM,SAAAC,GAAG,QAAIJ,QAAO,CAACC,GAAR,CAAYG,GAAZ,CAAJ,EAHT,CADV,uDAVoC,wDAiBrBC,QAjBqB,mIAiBpC,kBAAuBC,CAAvB,+IACUpB,MAAK,CAACqB,IAAN,CAAW,cAAX,CAA2B,CAACV,GAAG,CAAEP,KAAK,CAACO,GAAZ,CAA3B,EAA6CC,IAA7C,CAAkD,SAAAC,GAAG,CAAI,CAC3D,CADE,EACAI,KADA,CACM,SAAAC,GAAG,QAAIJ,QAAO,CAACC,GAAR,CAAYG,GAAZ,CAAJ,EADT,CADV,QAGOV,aAAa,GAHpB,wDAjBoC,0CAuBpC,GAAMc,KAAI,CAAGhB,OAAO,CAACiB,GAAR,CAAY,SAACC,IAAD,CAAOC,KAAP,CAAkB,CACvC,mBAAO,KAAC,SAAD,EAAW,aAAa,CAAIjB,aAA5B,CAA2C,OAAO,CAAIJ,KAAK,CAACO,GAA5D,CAAkE,IAAI,CAAIa,IAA1E,EAAwFA,IAAI,CAACb,GAA7F,CAAP,CAA2G,CADlG,CAAb,CAGA,mBACI,aAAK,SAAS,CAAC,uBAAf,wBACI,KAAC,MAAD,IADJ,cAEI,WAAI,SAAS,CAAC,cAAd,2DAFJ,cAGI,gCAHJ,cAII,cAAO,SAAS,CAAC,mBAAjB,EAJJ,cAKI,qBAAMW,IAAN,EALJ,cAMI,eAAQ,OAAO,CAAEH,OAAjB,CAA0B,SAAS,CAAC,mBAApC,eANJ,GADJ,CAUH"},"metadata":{},"sourceType":"module"}