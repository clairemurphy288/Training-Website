{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Query(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];useEffect(function(){if(search.length===0){props.getUsers();}},[search]);function onChange(e){setSearch(e.target.value);}function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"http://localhost:5000/query\",{search:search}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(response.data.length>0){props.setUsers(response.data);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}()).catch(function(error){});case 2:props.setCount(0);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{class:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:onChange,type:\"search\",id:\"form1\",class:\"form-control\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,class:\"btn btn-warning\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-search\"})})]});}","map":{"version":3,"names":["axios","useState","useEffect","Query","props","search","setSearch","length","getUsers","onChange","e","target","value","onSubmit","post","then","response","data","setUsers","catch","error","setCount"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/users/query.js"],"sourcesContent":["import axios from 'axios';\nimport {useState, useEffect} from 'react';\n\n\nexport default function Query(props) {\n    const [search,setSearch] = useState(\"\");\n    useEffect(()=> {\n        if (search.length === 0) {\n            props.getUsers();\n        }\n\n    },[search])\n\n    function onChange(e) {\n        setSearch(e.target.value);\n    }\n    async function onSubmit(e) {\n        await axios.post(\"http://localhost:5000/query\", {search: search}).then( async (response) => {\n                if(response.data.length > 0) {\n                    props.setUsers(response.data);\n                }\n            })\n            .catch(function (error) {\n      });\n      props.setCount(0);\n    }\n    return(<div class=\"input-group\">\n      <input onChange={onChange} type=\"search\" id=\"form1\" class=\"form-control\" />\n    <button onClick={onSubmit} class=\"btn btn-warning\">\n      <i class=\"fas fa-search\"></i>\n    </button>\n  </div>)\n}"],"mappings":"ieAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,C,wFAGA,cAAe,SAASC,MAAT,CAAeC,KAAf,CAAsB,CACjC,cAA2BH,QAAQ,CAAC,EAAD,CAAnC,wCAAOI,MAAP,eAAcC,SAAd,eACAJ,SAAS,CAAC,UAAK,CACX,GAAIG,MAAM,CAACE,MAAP,GAAkB,CAAtB,CAAyB,CACrBH,KAAK,CAACI,QAAN,GACH,CAEJ,CALQ,CAKP,CAACH,MAAD,CALO,CAAT,CAOA,QAASI,SAAT,CAAkBC,CAAlB,CAAqB,CACjBJ,SAAS,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CACH,CAXgC,QAYlBC,SAZkB,sIAYjC,kBAAwBH,CAAxB,+IACUV,MAAK,CAACc,IAAN,CAAW,6BAAX,CAA0C,CAACT,MAAM,CAAEA,MAAT,CAA1C,EAA4DU,IAA5D,4FAAkE,iBAAOC,QAAP,oHAChE,GAAGA,QAAQ,CAACC,IAAT,CAAcV,MAAd,CAAuB,CAA1B,CAA6B,CACzBH,KAAK,CAACc,QAAN,CAAeF,QAAQ,CAACC,IAAxB,EACH,CAH+D,sDAAlE,iEAKDE,KALC,CAKK,SAAUC,KAAV,CAAiB,CAC7B,CANO,CADV,QAQEhB,KAAK,CAACiB,QAAN,CAAe,CAAf,EARF,wDAZiC,2CAsBjC,mBAAO,aAAK,KAAK,CAAC,aAAX,wBACL,cAAO,QAAQ,CAAEZ,QAAjB,CAA2B,IAAI,CAAC,QAAhC,CAAyC,EAAE,CAAC,OAA5C,CAAoD,KAAK,CAAC,cAA1D,EADK,cAEP,eAAQ,OAAO,CAAEI,QAAjB,CAA2B,KAAK,CAAC,iBAAjC,uBACE,UAAG,KAAK,CAAC,eAAT,EADF,EAFO,GAAP,CAMH"},"metadata":{},"sourceType":"module"}