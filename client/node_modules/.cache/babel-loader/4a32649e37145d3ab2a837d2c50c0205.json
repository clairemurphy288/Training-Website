{"ast":null,"code":"var _jsxFileName = \"/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/form-edit.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport react from 'react';\nimport React from 'react';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport \"./form.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Form(props) {\n  _s();\n\n  const input = React.useRef();\n  const [data, setData] = useState([]);\n  const [question, setQuestion] = useState(props.question);\n  const [selectedAnswer, setAnswer] = useState(props.indexOfAnswer);\n\n  async function onClick() {\n    await axios.post('http://localhost:5000/admin/edit/question-delete', {\n      quizId: props.quizId,\n      id: props.id\n    }).then(async res => {\n      props.setQuiz(res.data);\n    }).catch(err => console.log(err));\n    await axios.post(\"http://localhost:5000/admin/quiz/query\", {\n      search: props.search,\n      _id: props.quizId\n    }).then(async response => {\n      console.log(response.data);\n      props.setQuestions(response.data);\n    }).catch(function (error) {});\n  }\n\n  function onChange(e) {\n    setQuestion(input.current.value);\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    console.log(question);\n    await axios.post('http://localhost:5000/admin/edit/quiz', {\n      indexOfAnswer: selectedAnswer,\n      quizId: props.quizId,\n      question: question,\n      data: data,\n      id: props.id\n    }).then(async res => {\n      console.log(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  const answerItems = props.answerChoices.map((answer, index) => /*#__PURE__*/_jsxDEV(Answer, {\n    selectedAnswer: selectedAnswer,\n    setAnswer: setAnswer,\n    setData: setData,\n    data: data,\n    onChange: onChange,\n    answerChoices: props.answerChoices,\n    index: index,\n    answer: answer\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 68\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      onClick: onClick,\n      className: \"fa-solid fa-trash questionDeletion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            ref: input,\n            onChange: onChange,\n            defaultValue: props.question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Select the correct answer: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: answerItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark\",\n          type: \"submit\",\n          children: \"Submit Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Form, \"FQ3cPKExKUs5sxXwHeIxGiQH3pg=\");\n\n_c = Form;\n\nfunction Answer(props) {\n  _s2();\n\n  const [style, setStyle] = useState(\"form-control\");\n  const textInput = React.useRef();\n  const [clicked, setClick] = useState(false);\n\n  function onChange(e) {\n    let deepCopy = [];\n\n    if (props.data.length === 0) {\n      for (let i = 0; i < props.answerChoices.length; i++) {\n        deepCopy.push(props.answerChoices[i]);\n      }\n    } else {\n      for (let i = 0; i < props.data.length; i++) {\n        deepCopy.push(props.data[i]);\n      }\n    }\n\n    deepCopy[props.index] = textInput.current.value;\n    props.setData(deepCopy);\n    console.log(props.data);\n  } //function allows the admin to change the correct answer \n\n\n  function onClick() {\n    if (props.selectedAnswer === props.index) {\n      setStyle(\"form-control\");\n      setClick(true);\n      props.setAnswer(-1);\n      console.log(style); //remove class\n    } else if (props.selectedAnswer === -1) {\n      setClick(true);\n      props.setAnswer(props.index);\n      setStyle(\"select \" + style);\n    }\n  }\n\n  useEffect(() => {\n    if (props.selectedAnswer === props.index && !clicked) {\n      setStyle(\"select \" + style);\n      console.log(style);\n    }\n  }, [props.selectedAnswer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-2 row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: style,\n        onClick: onClick,\n        onChange: onChange,\n        ref: textInput,\n        type: \"text\",\n        defaultValue: props.answer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 13\n  }, this);\n}\n\n_s2(Answer, \"RU12MQVE/XRTJ8MHWN16yeeu894=\");\n\n_c2 = Answer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Form\");\n$RefreshReg$(_c2, \"Answer\");","map":{"version":3,"names":["react","React","axios","useState","useEffect","Form","props","input","useRef","data","setData","question","setQuestion","selectedAnswer","setAnswer","indexOfAnswer","onClick","post","quizId","id","then","res","setQuiz","catch","err","console","log","search","_id","response","setQuestions","error","onChange","e","current","value","onSubmit","preventDefault","answerItems","answerChoices","map","answer","index","Answer","style","setStyle","textInput","clicked","setClick","deepCopy","length","i","push"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/form-edit.js"],"sourcesContent":["import react from 'react';\nimport React from 'react';\nimport axios from 'axios';\nimport {useState, useEffect} from 'react';\nimport \"./form.css\";\n\nexport default function Form(props) {\n    const input = React.useRef();\n    const [data, setData] = useState([]);\n    const [question, setQuestion] = useState(props.question)\n    const [selectedAnswer, setAnswer] = useState(props.indexOfAnswer);\n    async function onClick() {\n        await axios.post('http://localhost:5000/admin/edit/question-delete', { quizId: props.quizId, id: props.id}).then(async res => {\n            props.setQuiz(res.data);\n           }).catch(err => console.log(err));\n        await axios.post(\"http://localhost:5000/admin/quiz/query\", {search: props.search, _id: props.quizId}).then( async (response) => {\n            console.log(response.data);\n            props.setQuestions(response.data)\n        })\n        .catch(function (error) {\n  });   \n    }\n    function onChange(e) {\n        setQuestion(input.current.value);\n    }\n    async function onSubmit(e) {\n        e.preventDefault();\n        console.log(question)\n        await axios.post('http://localhost:5000/admin/edit/quiz', {indexOfAnswer: selectedAnswer, quizId: props.quizId, question: question, data: data, id: props.id}).then(async res => {\n            console.log(res.data);\n\n           }).catch(err => console.log(err));\n        \n    }\n    const answerItems = props.answerChoices.map((answer,index) => (<Answer selectedAnswer={selectedAnswer} setAnswer={setAnswer} setData={setData} data={data} onChange = {onChange} answerChoices={props.answerChoices} index={index} answer={answer}/>))\n    return (\n<div className=\"container my-5\">\n<i onClick={onClick}className=\"fa-solid fa-trash questionDeletion\"></i>\n<div className=\"\">\n  <form onSubmit={onSubmit}>\n  <div class=\"mb-3\">\n  <textarea className=\"form-control\" ref={input} onChange={onChange}  defaultValue = {props.question}></textarea>\n</div>\n    <h6>Select the correct answer: </h6>\n    <div>{answerItems}</div>\n    <button className= \"btn btn-dark\"type=\"submit\">Submit Changes</button>\n    </form>\n</div>\n</div>\n\n    )\n\n\n\n\n}\n\nfunction Answer(props) {\n    const [style, setStyle] = useState(\"form-control\")\n    const textInput = React.useRef();\n    const [clicked, setClick] = useState(false);\n    \n    function onChange(e) {\n        let deepCopy = [];\n        if ( props.data.length === 0 ) {\n            for (let i = 0; i < props.answerChoices.length; i++) {\n                deepCopy.push(props.answerChoices[i])\n            }\n        } else {\n            for (let i = 0; i < props.data.length; i++) {\n                deepCopy.push(props.data[i])\n        }\n    }\n        deepCopy[props.index] = textInput.current.value\n        props.setData(deepCopy);\n        console.log(props.data)\n\n\n    }\n    //function allows the admin to change the correct answer \n    function onClick() {\n        \n        if (props.selectedAnswer === props.index) {\n            setStyle(\"form-control\");\n            setClick(true);\n            props.setAnswer(-1);\n            console.log(style)\n            //remove class\n        } else if(props.selectedAnswer === -1) {\n            setClick(true);\n            props.setAnswer(props.index);\n            setStyle(\"select \" + style);\n\n        }\n    }\n\n    useEffect(() => {\n        if (props.selectedAnswer === props.index  && !clicked) {\n            setStyle(\"select \" + style);\n            console.log(style)\n        } \n\n    },[props.selectedAnswer])\n\n    return (\n            <div className=\"mb-2 row\">\n                <div className=\"col-lg-6\">\n                <input className = {style} onClick={onClick} onChange={onChange} ref={textInput} type = \"text\" defaultValue={props.answer}></input>\n                </div>\n            </div>\n      )\n}\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}