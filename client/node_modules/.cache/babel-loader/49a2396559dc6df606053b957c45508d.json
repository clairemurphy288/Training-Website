{"ast":null,"code":"var _jsxFileName = \"/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/AddQuestion.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport \"./form.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddQuestion(props) {\n  _s();\n\n  const [answers, setAnswer] = useState([\"\", \"\", \"\", \"\"]);\n  const [question, setQues] = useState(\"\");\n  const [selectedAnswer, setSelectedAnswer] = useState(-1);\n\n  function onClick(e) {\n    props.setBlankQuestion( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-user-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"circle-label\",\n        children: \"Add a new question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        onClick: props.addQuestion,\n        class: \"fa-solid fa-circle-plus fa-xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 32\n    }, this));\n  }\n\n  function onChange(e) {\n    const copy = [];\n\n    for (let i = 0; i < answers.length; i++) {\n      copy.push(answers[i]);\n    }\n\n    console.log(e.target);\n    copy[e.target.name] = e.target.value;\n    setAnswer(copy);\n  }\n\n  function setQuestion(e) {\n    setQues(e.target.value);\n  } // Idea maybe on submit the question will be added dynamically to the top of the page?\n\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    const newQuestion = {\n      question: question,\n      answerChoices: answers,\n      indexOfAnswer: selectedAnswer\n    };\n    await axios.post('http://localhost:5000/admin/add', {\n      question: newQuestion,\n      _id: props._id\n    }).then(async res => {\n      console.log(res.data);\n    }).catch(err => console.log(err));\n    console.log(props.getResponse());\n    props.setBlankQuestion( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-user-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Question Added!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"circle-label\",\n        children: \"Add a new question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        onClick: props.addQuestion,\n        class: \"fa-solid fa-circle-plus fa-xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 32\n    }, this));\n  }\n\n  let answerList = answers.map((val, index) => /*#__PURE__*/_jsxDEV(Answer, {\n    setSelectedAnswer: setSelectedAnswer,\n    selectedAnswer: selectedAnswer,\n    name: index,\n    onChange: onChange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 49\n  }, this));\n  console.log(answerList);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      onClick: onClick,\n      className: \"fa-solid fa-trash questionDeletion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          onChange: setQuestion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Select the correct answer: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: answerList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark\",\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddQuestion, \"ipIp9UVCMACPMlnVHTnWybXwxZs=\");\n\n_c = AddQuestion;\n\nfunction Answer(props) {\n  _s2();\n\n  const [style, setStyle] = useState(\"form-control \");\n  const [clicked, setClick] = useState(false);\n\n  function setCorrectAnswer() {\n    if (props.selectedAnswer === props.name) {\n      setStyle(\"form-control \");\n      setClick(true);\n      props.setSelectedAnswer(-1);\n      console.log(\"selected\");\n    } else if (props.selectedAnswer === -1) {\n      setClick(true);\n      props.setSelectedAnswer(props.name);\n      setStyle(\"form-control select\");\n    }\n  }\n\n  console.log(props.selectedAnswer);\n  useEffect(() => {\n    if (props.selectedAnswer === props.index && !clicked) {\n      setStyle(style + \"select\");\n    }\n  }, [props.selectedAnswer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-1 row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: style,\n        name: props.name,\n        onClick: setCorrectAnswer,\n        onChange: props.onChange,\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Answer, \"Astr2H6nvjF5GLUhzEGmw9vFFMc=\");\n\n_c2 = Answer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddQuestion\");\n$RefreshReg$(_c2, \"Answer\");","map":{"version":3,"names":["useState","useEffect","axios","AddQuestion","props","answers","setAnswer","question","setQues","selectedAnswer","setSelectedAnswer","onClick","e","setBlankQuestion","addQuestion","onChange","copy","i","length","push","console","log","target","name","value","setQuestion","onSubmit","preventDefault","newQuestion","answerChoices","indexOfAnswer","post","_id","then","res","data","catch","err","getResponse","answerList","map","val","index","Answer","style","setStyle","clicked","setClick","setCorrectAnswer"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/AddQuestion.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport \"./form.css\";\nimport axios from \"axios\";\nexport default function AddQuestion(props) {\n    const [answers, setAnswer] = useState([\"\",\"\",\"\",\"\"]);\n    const [question, setQues] = useState(\"\");\n    const [selectedAnswer, setSelectedAnswer] = useState(-1);\n    function onClick(e) {\n        props.setBlankQuestion(<div className=\"add-user-container\">\n        <h5 className=\"circle-label\">Add a new question</h5>\n        <i onClick={props.addQuestion} class=\"fa-solid fa-circle-plus fa-xl\"></i>\n    </div>)\n    }\n    function onChange(e) {\n        const copy = [];\n        for(let i = 0; i < answers.length; i++) {\n            copy.push(answers[i])\n        }\n        console.log(e.target);\n        copy[e.target.name] = e.target.value;\n        setAnswer(copy);\n    }\n    function setQuestion(e) {\n        setQues(e.target.value);\n\n    }\n    // Idea maybe on submit the question will be added dynamically to the top of the page?\n    async function onSubmit(e) {\n        e.preventDefault();\n        const newQuestion = {\n            question: question,\n            answerChoices:answers,\n            indexOfAnswer:selectedAnswer\n        }\n        await axios.post('http://localhost:5000/admin/add', {question: newQuestion, _id: props._id}).then(async res => {\n            console.log(res.data);\n\n           }).catch(err => console.log(err));\n        console.log(props.getResponse());\n        props.setBlankQuestion(<div className=\"add-user-container\">\n        <h1>Question Added!</h1>\n        <h5 className=\"circle-label\">Add a new question</h5>\n        <i onClick={props.addQuestion} class=\"fa-solid fa-circle-plus fa-xl\"></i>\n    </div>);\n    }\n    let answerList = answers.map((val,index) => <Answer setSelectedAnswer={setSelectedAnswer} selectedAnswer={selectedAnswer} name={index} onChange={onChange}/>);\n    console.log(answerList);\n    return(\n    <div className='container'>\n          <i onClick={onClick} className=\"fa-solid fa-trash questionDeletion\"></i>\n        <h1>Add Question</h1>\n        <form onSubmit={onSubmit}>\n            <div className='mb-3'>\n                <textarea className='form-control' onChange={setQuestion} ></textarea>\n            </div>\n        <h6>Select the correct answer: </h6>\n    <div>{answerList}</div>\n    <button className='btn btn-dark' type=\"submit\">Add</button>\n    </form>\n    </div>\n)}\n\nfunction Answer(props) {\n    const [style, setStyle] = useState(\"form-control \")\n    const [clicked, setClick] = useState(false);\n    function setCorrectAnswer() {\n        \n        if (props.selectedAnswer === props.name) {\n            setStyle(\"form-control \");\n            setClick(true);\n            props.setSelectedAnswer(-1);\n            console.log(\"selected\");\n        } else if(props.selectedAnswer === -1) {\n            setClick(true);\n            props.setSelectedAnswer(props.name);\n            setStyle(\"form-control select\");\n\n        }\n    }\nconsole.log(props.selectedAnswer)\n    useEffect(() => {\n        if (props.selectedAnswer === props.index  && !clicked) {\n            setStyle(style + \"select\");\n        } \n\n    },[props.selectedAnswer])\n    return(\n    <div className=\"mb-1 row\">\n        <div className=\"col-lg-6\">\n            <input className={style} name={props.name} onClick={setCorrectAnswer} onChange={props.onChange} type=\"text\"></input>\n        </div>\n    </div>\n)\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}