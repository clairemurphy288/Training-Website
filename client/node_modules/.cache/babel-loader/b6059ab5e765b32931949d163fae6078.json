{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import\"./form.css\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddQuestion(props){var _useState=useState([\"\",\"\",\"\",\"\"]),_useState2=_slicedToArray(_useState,2),answers=_useState2[0],setAnswer=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),question=_useState4[0],setQues=_useState4[1];var _useState5=useState(-1),_useState6=_slicedToArray(_useState5,2),selectedAnswer=_useState6[0],setSelectedAnswer=_useState6[1];function onClick(e){props.setBlankQuestion(/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-container\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"circle-label\",children:\"Add a new question\"}),/*#__PURE__*/_jsx(\"i\",{onClick:props.addQuestion,class:\"fa-solid fa-circle-plus fa-xl\"})]}));}function onChange(e){var copy=[];for(var i=0;i<answers.length;i++){copy.push(answers[i]);}console.log(e.target);copy[e.target.name]=e.target.value;setAnswer(copy);}function setQuestion(e){setQues(e.target.value);}// Idea maybe on submit the question will be added dynamically to the top of the page?\nfunction onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var newQuestion;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();newQuestion={question:question,answerChoices:answers,indexOfAnswer:selectedAnswer};_context2.next=4;return axios.post('/api/v1/admin/add',{question:newQuestion,_id:props._id}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(res.data);case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}()).catch(function(err){return console.log(err);});case 4:console.log(props.getResponse());props.setBlankQuestion(/*#__PURE__*/_jsxs(\"div\",{className:\"add-user-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Question Added!\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"circle-label\",children:\"Add a new question\"}),/*#__PURE__*/_jsx(\"i\",{onClick:props.addQuestion,class:\"fa-solid fa-circle-plus fa-xl\"})]}));case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _onSubmit.apply(this,arguments);}var answerList=answers.map(function(val,index){return/*#__PURE__*/_jsx(Answer,{setSelectedAnswer:setSelectedAnswer,selectedAnswer:selectedAnswer,name:index,onChange:onChange});});console.log(answerList);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"i\",{onClick:onClick,className:\"fa-solid fa-trash questionDeletion\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Add Question\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",onChange:setQuestion})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Select the correct answer: \"}),/*#__PURE__*/_jsx(\"div\",{children:answerList}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",type:\"submit\",children:\"Add\"})]})]});}function Answer(props){var _useState7=useState(\"form-control \"),_useState8=_slicedToArray(_useState7,2),style=_useState8[0],setStyle=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),clicked=_useState10[0],setClick=_useState10[1];function setCorrectAnswer(){if(props.selectedAnswer===props.name){setStyle(\"form-control \");setClick(true);props.setSelectedAnswer(-1);console.log(\"selected\");}else if(props.selectedAnswer===-1){setClick(true);props.setSelectedAnswer(props.name);setStyle(\"form-control select\");}}console.log(props.selectedAnswer);useEffect(function(){if(props.selectedAnswer===props.index&&!clicked){setStyle(style+\"select\");}},[props.selectedAnswer]);return/*#__PURE__*/_jsx(\"div\",{className:\"mb-1 row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"input\",{className:style,name:props.name,onClick:setCorrectAnswer,onChange:props.onChange,type:\"text\"})})});}","map":{"version":3,"names":["useState","useEffect","axios","AddQuestion","props","answers","setAnswer","question","setQues","selectedAnswer","setSelectedAnswer","onClick","e","setBlankQuestion","addQuestion","onChange","copy","i","length","push","console","log","target","name","value","setQuestion","onSubmit","preventDefault","newQuestion","answerChoices","indexOfAnswer","post","_id","then","res","data","catch","err","getResponse","answerList","map","val","index","Answer","style","setStyle","clicked","setClick","setCorrectAnswer"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/AddQuestion.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport \"./form.css\";\nimport axios from \"axios\";\nexport default function AddQuestion(props) {\n    const [answers, setAnswer] = useState([\"\",\"\",\"\",\"\"]);\n    const [question, setQues] = useState(\"\");\n    const [selectedAnswer, setSelectedAnswer] = useState(-1);\n    function onClick(e) {\n        props.setBlankQuestion(<div className=\"add-user-container\">\n        <h5 className=\"circle-label\">Add a new question</h5>\n        <i onClick={props.addQuestion} class=\"fa-solid fa-circle-plus fa-xl\"></i>\n    </div>)\n    }\n    function onChange(e) {\n        const copy = [];\n        for(let i = 0; i < answers.length; i++) {\n            copy.push(answers[i])\n        }\n        console.log(e.target);\n        copy[e.target.name] = e.target.value;\n        setAnswer(copy);\n    }\n    function setQuestion(e) {\n        setQues(e.target.value);\n\n    }\n    // Idea maybe on submit the question will be added dynamically to the top of the page?\n    async function onSubmit(e) {\n        e.preventDefault();\n        const newQuestion = {\n            question: question,\n            answerChoices:answers,\n            indexOfAnswer:selectedAnswer\n        }\n        await axios.post('/api/v1/admin/add', {question: newQuestion, _id: props._id}).then(async res => {\n            console.log(res.data);\n\n           }).catch(err => console.log(err));\n        console.log(props.getResponse());\n        props.setBlankQuestion(<div className=\"add-user-container\">\n        <h1>Question Added!</h1>\n        <h5 className=\"circle-label\">Add a new question</h5>\n        <i onClick={props.addQuestion} class=\"fa-solid fa-circle-plus fa-xl\"></i>\n    </div>);\n    }\n    let answerList = answers.map((val,index) => <Answer setSelectedAnswer={setSelectedAnswer} selectedAnswer={selectedAnswer} name={index} onChange={onChange}/>);\n    console.log(answerList);\n    return(\n    <div className='container'>\n          <i onClick={onClick} className=\"fa-solid fa-trash questionDeletion\"></i>\n        <h1>Add Question</h1>\n        <form onSubmit={onSubmit}>\n            <div className='mb-3'>\n                <textarea className='form-control' onChange={setQuestion} ></textarea>\n            </div>\n        <h6>Select the correct answer: </h6>\n    <div>{answerList}</div>\n    <button className='btn btn-dark' type=\"submit\">Add</button>\n    </form>\n    </div>\n)}\n\nfunction Answer(props) {\n    const [style, setStyle] = useState(\"form-control \")\n    const [clicked, setClick] = useState(false);\n    function setCorrectAnswer() {\n        \n        if (props.selectedAnswer === props.name) {\n            setStyle(\"form-control \");\n            setClick(true);\n            props.setSelectedAnswer(-1);\n            console.log(\"selected\");\n        } else if(props.selectedAnswer === -1) {\n            setClick(true);\n            props.setSelectedAnswer(props.name);\n            setStyle(\"form-control select\");\n\n        }\n    }\nconsole.log(props.selectedAnswer)\n    useEffect(() => {\n        if (props.selectedAnswer === props.index  && !clicked) {\n            setStyle(style + \"select\");\n        } \n\n    },[props.selectedAnswer])\n    return(\n    <div className=\"mb-1 row\">\n        <div className=\"col-lg-6\">\n            <input className={style} name={props.name} onClick={setCorrectAnswer} onChange={props.onChange} type=\"text\"></input>\n        </div>\n    </div>\n)\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}