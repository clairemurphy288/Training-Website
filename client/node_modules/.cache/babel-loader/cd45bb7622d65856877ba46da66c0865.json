{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Navigate}from'react-router-dom';import'./sign-up.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signin=/*#__PURE__*/function(_Component){_inherits(Signin,_Component);var _super=_createSuper(Signin);function Signin(props){var _this;_classCallCheck(this,Signin);_this=_super.call(this,props);_this.state={username:\"\",password:\"\",validSignin:false,passwordVisibility:\"password\",serverValid:\"the server needs to be tested\"};_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.changeIcon=_this.changeIcon.bind(_assertThisInitialized(_this));_this.testingServer=_this.testingServer.bind(_assertThisInitialized(_this));return _this;}_createClass(Signin,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"onSubmit\",value:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,signin;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(\"sent\");user={username:this.state.username,password:this.state.password};_context.next=5;return axios.get('/api/v1',{params:user}).then(function(res){localStorage.setItem('currentUser',res.data[0].username);console.log(localStorage.getItem('currentUser'));signin=res.data[1];});case 5:this.setState({validSignin:signin});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()},{key:\"changeIcon\",value:function changeIcon(e){e.currentTarget.classList.toggle(\"bi-eye-slash\");e.currentTarget.classList.toggle(\"bi-eye\");this.state.passwordVisibility===\"password\"?this.setState({passwordVisibility:\"text\"}):this.setState({passwordVisibility:\"password\"});}},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({username:\"\",password:\"\"});}},{key:\"testingServer\",value:function(){var _testingServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var val;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/v1/test').then(function(res){val=res.data;console.log(val);});case 2:this.setState({serverValid:val});case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function testingServer(_x2){return _testingServer.apply(this,arguments);}return testingServer;}()},{key:\"render\",value:function render(){if(this.state.validSignin){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:this.onSubmit,children:/*#__PURE__*/_jsx(\"div\",{class:\"sign-in-holder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sign-in-heading\",children:\"LOGIN\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputusername\",className:\"sign-in-form-label\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.username,onChange:this.onChangeUsername,className:\"sign-in-form-control\",id:\"exampleInputUsername\",\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-in-field\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"sign-in-form-label\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.password,onChange:this.onChangePassword,type:this.state.passwordVisibility,className:\"sign-in-form-control\",id:\"exampleInputPassword1\"}),/*#__PURE__*/_jsx(\"i\",{onClick:this.changeIcon,class:\"bi bi-eye-slash\",id:\"toggle-icon\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-in-btn-sub\",children:\"login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sign-in-p\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"SIGN UP\"})]})]})})}),/*#__PURE__*/_jsx(\"button\",{onClick:this.testingServer,children:\"TEST THE SERVER\"}),/*#__PURE__*/_jsx(\"h1\",{children:this.state.serverValid})]});}}]);return Signin;}(Component);export{Signin as default};","map":{"version":3,"names":["React","Component","axios","Link","Navigate","Signin","props","state","username","password","validSignin","passwordVisibility","serverValid","onChangeUsername","bind","onChangePassword","onSubmit","changeIcon","testingServer","e","setState","target","value","preventDefault","console","log","user","get","params","then","res","localStorage","setItem","data","getItem","signin","currentTarget","classList","toggle","val"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/quiz/signin.js"],"sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Navigate } from 'react-router-dom';\nimport './sign-up.css';\n\nexport default class Signin extends Component {\n\n    constructor(props) {\n        \n        super(props);\n         this.state = {\n            username: \"\",\n            password: \"\",\n            validSignin: false,\n            passwordVisibility: \"password\",\n            serverValid: \"the server needs to be tested\"\n         }\n         this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.changeIcon = this.changeIcon.bind(this);\n        this.testingServer = this.testingServer.bind(this);\n   \n    }\n\n    onChangeUsername(e) {\n        this.setState({\n            username: e.target.value\n        });\n    }\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n\n    async onSubmit(e) {\n        e.preventDefault();\n        console.log(\"sent\");\n        const user = {\n            username: this.state.username,\n            password: this.state.password\n        }\n        let signin;\n        await axios.get('/api/v1',{params: user})\n        .then(res => {\n            localStorage.setItem('currentUser', res.data[0].username);\n            console.log(localStorage.getItem('currentUser'));\n            signin = res.data[1];\n        }\n        );\n        this.setState( {\n            validSignin: signin\n        });   \n    }\n\n    changeIcon(e) {\n        e.currentTarget.classList.toggle(\"bi-eye-slash\");\n        e.currentTarget.classList.toggle(\"bi-eye\");\n        this.state.passwordVisibility === \"password\" ? this.setState({passwordVisibility: \"text\"}) : this.setState({passwordVisibility: \"password\"})\n    }\n\n    componentDidMount() {\n        this.setState({\n            username: \"\",\n            password: \"\"\n        });\n    }\n    async testingServer(e) {\n        let val\n        await axios.get('/api/v1/test')\n        .then(res => {\n            val = res.data;\n            console.log(val);\n        }\n        );\n        this.setState({\n            serverValid: val\n\n        })\n\n    }\n\n    render() {\n        if(this.state.validSignin){\n           return <Navigate to =\"/dashboard\" />\n        }\n        return (\n            <div>\n            <form onSubmit = {this.onSubmit}>\n                <div class=\"sign-in-holder\">\n                    <div className=\"sign-in-container\">\n                        <h2 className='sign-in-heading'>LOGIN</h2>\n\n                            <div className=\"sign-in-field\">\n                                <label htmlFor=\"exampleInputusername\" className=\"sign-in-form-label\">USERNAME</label>\n                                <input value={this.state.username} onChange={this.onChangeUsername} className=\"sign-in-form-control\" id=\"exampleInputUsername\" aria-describedby=\"emailHelp\"></input>\n                            </div>\n                            <div className=\"sign-in-field\">\n                                <p>\n                                    <label htmlFor=\"exampleInputPassword1\" className=\"sign-in-form-label\">PASSWORD</label>\n                                    <input value={this.state.password} onChange={this.onChangePassword}  type={this.state.passwordVisibility} className=\"sign-in-form-control\" id=\"exampleInputPassword1\"></input>\n                                    <i onClick={this.changeIcon} class=\"bi bi-eye-slash\" id=\"toggle-icon\"></i>\n                                </p>\n                            </div>\n                        <button type=\"submit\" className=\"sign-in-btn-sub\">login</button>\n                        <p className='sign-in-p'>Don't have an account? <Link to =\"/\">SIGN UP</Link></p>\n                    </div>\n                  \n                </div>\n            </form>\n              <button onClick = {this.testingServer}>TEST THE SERVER</button>\n              <h1>{this.state.serverValid}</h1>\n              </div>\n\n        );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}