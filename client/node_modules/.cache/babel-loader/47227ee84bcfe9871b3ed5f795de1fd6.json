{"ast":null,"code":"import _regeneratorRuntime from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/clairemurphy/Documents/web-development/Training-Website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import NavBar from\"../utilities/navbar\";import{useState,useEffect}from\"react\";import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TimerHomePage(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),timers=_useState2[0],setTimers=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];useEffect(function(){getTimer();},[]);function getTimer(){return _getTimer.apply(this,arguments);}function _getTimer(){_getTimer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:5000/timer').then(function(res){setTimers(res.data);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getTimer.apply(this,arguments);}function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return axios.post('http://localhost:5000/timer',{title:title}).then(function(res){}).catch(function(err){return console.log(err);});case 3:getTimer();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _onSubmit.apply(this,arguments);}function onChange(e){setTitle(e.target.value);}function handleRemove(_x2){return _handleRemove.apply(this,arguments);}function _handleRemove(){_handleRemove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete('http://localhost:5000/timer',{data:{_id:id}}).then(function(res){}).catch(function(err){return console.log(err);});case 2:getTimer();case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _handleRemove.apply(this,arguments);}var list=timers.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"live-quiz-item\",children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return handleRemove(item._id);},className:\"fa-solid fa-trash fa-lg\"}),/*#__PURE__*/_jsx(Link,{to:\"/edit-timer\",state:item,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pen fa-lg\"})})]})]},item._id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:list}),/*#__PURE__*/_jsx(\"h1\",{className:\"m-3\",children:\"Add new Timer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:onChange,className:\"form-control\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"+\"})]})})]});}","map":{"version":3,"names":["React","NavBar","useState","useEffect","Link","axios","TimerHomePage","props","timers","setTimers","title","setTitle","getTimer","get","then","res","data","catch","err","console","log","onSubmit","e","preventDefault","post","onChange","target","value","handleRemove","id","delete","_id","list","map","item"],"sources":["/Users/clairemurphy/Documents/web-development/Training-Website/client/src/components/admin-page/TimeStudy/TimerHomePage.js"],"sourcesContent":["import React from 'react';\nimport NavBar from \"../utilities/navbar\"\nimport { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nexport default function TimerHomePage(props) {\n    const [timers, setTimers] = useState([]);\n    const [title, setTitle] = useState(\"\");\n    useEffect(() => {\n        getTimer();\n    }, [])\n\n    async function getTimer() {\n        await axios.get('http://localhost:5000/timer').then(res => {\n            setTimers(res.data)\n           }).catch(err => console.log(err));\n\n    }\n    async function onSubmit(e) {\n        e.preventDefault();\n        await axios.post('http://localhost:5000/timer', {title: title}).then(res => {\n           }).catch(err => console.log(err));\n           getTimer();\n\n    }\n    function onChange(e) {\n        setTitle(e.target.value);\n\n    }\n    async function handleRemove(id) {\n        await axios.delete('http://localhost:5000/timer', {data: {_id: id}}).then(res => {\n           }).catch(err => console.log(err));\n           getTimer()\n    }\n    const list = timers.map((item) => {\n        return <li className=\"list-group-item d-flex justify-content-between align-items-start\" key={item._id}><h4 className=\"live-quiz-item\">{item.title}</h4>\n        <span>\n            <i onClick = {() => handleRemove(item._id)} className=\"fa-solid fa-trash fa-lg\"></i>\n            <Link to=\"/edit-timer\" state = {item}><i className=\"fa-solid fa-pen fa-lg\"></i></Link>\n        </span>\n    </li>\n    })\n\n    return (<div>\n            <NavBar/>\n            <ul className=\"list-group list-group-flush\">{list}</ul>\n            <h1 className='m-3'>Add new Timer</h1>\n            <div className='container'>\n                <form onSubmit={onSubmit}>\n                    <input onChange={onChange} className='form-control'></input> \n                    <button className='btn btn-primary'>+</button>\n                </form>\n            </div>\n\n    </div>);\n}"],"mappings":"ieAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFACA,cAAe,SAASC,cAAT,CAAuBC,KAAvB,CAA8B,CACzC,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACAR,SAAS,CAAC,UAAM,CACZS,QAAQ,GACX,CAFQ,CAEN,EAFM,CAAT,CAHyC,QAO1BA,SAP0B,oIAOzC,2JACUP,MAAK,CAACQ,GAAN,CAAU,6BAAV,EAAyCC,IAAzC,CAA8C,SAAAC,GAAG,CAAI,CACvDN,SAAS,CAACM,GAAG,CAACC,IAAL,CAAT,CACA,CAFE,EAEAC,KAFA,CAEM,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFT,CADV,uDAPyC,mDAa1BG,SAb0B,sIAazC,kBAAwBC,CAAxB,wHACIA,CAAC,CAACC,cAAF,GADJ,uBAEUlB,MAAK,CAACmB,IAAN,CAAW,6BAAX,CAA0C,CAACd,KAAK,CAAEA,KAAR,CAA1C,EAA0DI,IAA1D,CAA+D,SAAAC,GAAG,CAAI,CACxE,CADE,EACAE,KADA,CACM,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EADT,CAFV,QAION,QAAQ,GAJf,wDAbyC,2CAoBzC,QAASa,SAAT,CAAkBH,CAAlB,CAAqB,CACjBX,QAAQ,CAACW,CAAC,CAACI,MAAF,CAASC,KAAV,CAAR,CAEH,CAvBwC,QAwB1BC,aAxB0B,mJAwBzC,kBAA4BC,EAA5B,+IACUxB,MAAK,CAACyB,MAAN,CAAa,6BAAb,CAA4C,CAACd,IAAI,CAAE,CAACe,GAAG,CAAEF,EAAN,CAAP,CAA5C,EAA+Df,IAA/D,CAAoE,SAAAC,GAAG,CAAI,CAC7E,CADE,EACAE,KADA,CACM,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EADT,CADV,QAGON,QAAQ,GAHf,wDAxByC,+CA6BzC,GAAMoB,KAAI,CAAGxB,MAAM,CAACyB,GAAP,CAAW,SAACC,IAAD,CAAU,CAC9B,mBAAO,YAAI,SAAS,CAAC,kEAAd,wBAAgG,WAAI,SAAS,CAAC,gBAAd,UAAgCA,IAAI,CAACxB,KAArC,EAAhG,cACP,qCACI,UAAG,OAAO,CAAI,yBAAMkB,aAAY,CAACM,IAAI,CAACH,GAAN,CAAlB,EAAd,CAA4C,SAAS,CAAC,yBAAtD,EADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,aAAT,CAAuB,KAAK,CAAIG,IAAhC,uBAAsC,UAAG,SAAS,CAAC,uBAAb,EAAtC,EAFJ,GADO,GAAsFA,IAAI,CAACH,GAA3F,CAAP,CAMH,CAPY,CAAb,CASA,mBAAQ,oCACA,KAAC,MAAD,IADA,cAEA,WAAI,SAAS,CAAC,6BAAd,UAA6CC,IAA7C,EAFA,cAGA,WAAI,SAAS,CAAC,KAAd,2BAHA,cAIA,YAAK,SAAS,CAAC,WAAf,uBACI,cAAM,QAAQ,CAAEX,QAAhB,wBACI,cAAO,QAAQ,CAAEI,QAAjB,CAA2B,SAAS,CAAC,cAArC,EADJ,cAEI,eAAQ,SAAS,CAAC,iBAAlB,eAFJ,GADJ,EAJA,GAAR,CAYH"},"metadata":{},"sourceType":"module"}